---
id: session-management
title: Session management
sidebar_label: Session management
---

```mdx-code-block
import Tabs from "@theme/Tabs"
import TabItem from "@theme/TabItem"
import { getSdkUrl } from '@site/src/hooks'
import CodeBlock from '@theme/CodeBlock'
```

Sessions can be managed by:

1. The user who owns the session through **self-service endpoints**
2. System administrators using **administrative endpoints**

## Self-service

Using self-service session management, users can manage their own sessions.

:::note

When performing these operations, remember to include the Ory Session Cookie in the requests. When calling the endpoints from a
proxy or middleware, make sure to forward the cookies sent to the proxy/middleware. When calling these endpoints as AJAX calls,
make sure to include credentials and configure CORS properly.

:::

### Listing sessions

A user can be shown a list of all their active sessions that haven't expired, except the current session using the
[Session Listing API](../../reference/api#tag/frontend/operation/listMySessions) from the SDK. This API has a paginated response
and optional parameters for page number and number of items per page.

````mdx-code-block
<Tabs groupId="self-service-list-sessions">
<TabItem value="self-service-listing-sessions-react" label="React">

```mdx-code-block
import react from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/get-active-sessions-react.tsx"

<CodeBlock language="ts" title="get-active-sessions-react.tsx">{react}</CodeBlock>
```

</TabItem>
<TabItem value="self-service-listing-sessions-native" label="TypeScript">

```mdx-code-block
import getSessionsNative from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/get-active-sessions-native.ts"

<CodeBlock language="ts" title="get-active-sessions-native.ts">{getSessionsNative}</CodeBlock>
```

</TabItem>
<TabItem value="self-service-listing-sessions-go" label="Go" default>

```mdx-code-block
import goApi from '!!raw-loader!../../../code-examples/sdk/go/selfservice/get-active-sessions.go'

<CodeBlock language="go">{goApi}</CodeBlock>
```

</TabItem>
</Tabs>
````

:::tip

You can use this call to show a UI with all active sessions to the user.

:::

### Revoking a specific session

A user can choose to terminate a session that they no longer need or deem as malicious. The
[revoke session API](../../reference/api#tag/frontend/operation/disableMySession) is built for this scenario.

Session(s) revoked by users are not deleted from the system. Instead, they become inactive. Only administrators can delete
sessions using the administrative endpoints described [here](#administrative-session-management).

:::note

This API can only revoke session(s) other than the current session. To revoke the current session, use the
[self-service logout](../../kratos/self-service/flows/user-logout.mdx).

:::

````mdx-code-block
<Tabs groupId="self-service-revoke-session">
<TabItem value="self-service-revoke-session-react" label="React">

```mdx-code-block
import revokeSessionReact from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/revoke-session-react.tsx"

<CodeBlock language="ts" title="revoke-session-react.tsx">{revokeSessionReact}</CodeBlock>
```

</TabItem>
<TabItem value="self-service-revoke-session-native" label="TypeScript">

```mdx-code-block
import revokeSessionNative from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/revoke-session-native.ts"

<CodeBlock language="ts" title="revoke-session-native.ts">{revokeSessionNative}</CodeBlock>
```

</TabItem>
<TabItem value="self-service-revoke-session-go" label="Go" default>

```mdx-code-block
import goRevokeSession from '!!raw-loader!../../../code-examples/sdk/go/selfservice/revoke-session.go'

<CodeBlock language="go">{goRevokeSession}</CodeBlock>
```

</TabItem>
</Tabs>
````

### Revoking all other sessions

A user may want to revoke all the other active sessions. The
[revoke sessions API](../../reference/api#tag/frontend/operation/disableMyOtherSessions) was built to enable this scenario.

Session(s) revoked by users are not deleted from the system. Instead, they become inactive. Only administrators can delete
sessions using the administrative endpoints described [here](#administrative-session-management).

````mdx-code-block
<Tabs groupId="self-service-revoke-other-sessions">
<TabItem value="self-service-revoke--other-sessions-react" label="React">

```mdx-code-block
import revokeOtherSessionsReact from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/revoke-other-sessions-react.tsx"

<CodeBlock language="ts" title="revoke-other-sessions-react.tsx">{revokeOtherSessionsReact}</CodeBlock>
```

</TabItem>
<TabItem value="self-service-revoke-other-sessions-native" label="TypeScript">

```mdx-code-block
import revokeOtherSessionsNative from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/revoke-other-sessions-native.ts"

<CodeBlock language="ts" title="revoke-other-sessions-native.ts">{revokeOtherSessionsNative}</CodeBlock>
```

</TabItem>
<TabItem value="self-service-revoke-other-sessions-go" label="Go" default>

```mdx-code-block
import goRevokeOtherSessions from '!!raw-loader!../../../code-examples/sdk/go/selfservice/revoke-other-sessions.go'

<CodeBlock language="go">{goRevokeOtherSessions}</CodeBlock>
```

</TabItem>
</Tabs>
````

:::note

This endpoint revokes all sessions other than the current session. To revoke the current session, use the
[self-service logout](../../kratos/self-service/flows/user-logout.mdx).

:::

## Administrative

System administrators have access to all sessions in the system.

:::note

To perform the following operations, a Personal access token (called P.A.T otherwise) is required.

:::

````mdx-code-block
<Tabs groupId="sdk-identity-setup">
<TabItem value="sdk-identity-init-go" label="Go" default>

```mdx-code-block
import goInitClient from '!!raw-loader!../../../code-examples/sdk/go/session/init.go'

<CodeBlock language="go" title="Initalising the Go SDK client">{goInitClient}</CodeBlock>
```

</TabItem>
<TabItem value="sdk-identity-init-native" label="TypeScript">

```mdx-code-block
import nativeInitClient from "!!raw-loader!@site/code-examples/sdk/typescript/src/session/init-client-native.ts"

<CodeBlock language="ts" title="Initalising the Typescript SDK client">{nativeInitClient}</CodeBlock>
```

</TabItem>
</Tabs>
````

### General

#### Listing Sessions

To get all sessions, administrators may use the [List sessions API](../../reference/api#tag/identity/operation/listSessions) from
the SDK. This API has a paginated response and optional parameters for page and number of items per page.

:::tip

You can use the [Ory Console](https://console.ory.sh/projects/current/sessions) to view all sessions in an administrative context
for a particular project.

:::

````mdx-code-block
<Tabs groupId="sdk-identity-listing-sessions">
<TabItem value="sdk-identity-listing-sessions-go" label="Go" default>

```mdx-code-block
import goGetSessions from '!!raw-loader!../../../code-examples/sdk/go/session/get-sessions.go'

<CodeBlock language="go" title="Listing all sessions">{goGetSessions}</CodeBlock>
```

</TabItem>
<TabItem value="sdk-identity-listing-sessions-native" label="TypeScript">

```mdx-code-block
import nativeGetSessions from "!!raw-loader!@site/code-examples/sdk/typescript/src/session/get-sessions-native.ts"

<CodeBlock language="ts" title="Listing all sessions">{nativeGetSessions}</CodeBlock>
```

</TabItem>
</Tabs>
````

#### Get Session

To get the details for a given session (with all possible expand options), administrators may use the
[Get session API](../../reference/api#tag/identity/operation/getSession) from the SDK.

:::tip

You can use the [Ory Console](https://console.ory.sh/projects/current/sessions/<sessionId>) (replace sessionId) to view session
metadata in an administrative context for a particular project.

:::

````mdx-code-block
<Tabs groupId="sdk-identity-get-session">
<TabItem value="sdk-identity-get-session-go" label="Go" default>

```mdx-code-block
import goGetSession from '!!raw-loader!../../../code-examples/sdk/go/session/get-session.go'

<CodeBlock language="go" title="Get a session">{goGetSession}</CodeBlock>
```

</TabItem>
<TabItem value="sdk-identity-get-session-native" label="TypeScript">

```mdx-code-block
import nativeGetSession from "!!raw-loader!@site/code-examples/sdk/typescript/src/session/get-session-native.ts"

<CodeBlock language="ts" title="Get a session (Typescript SDK)">{nativeGetSession}</CodeBlock>
```

</TabItem>
</Tabs>
````

#### Disable a Session

To terminate a specific session, administrators may use the
[Disable session API](../../reference/api#tag/identity/operation/disableSession) from the SDK.

:::tip

You can use the [Ory Console](https://console.ory.sh/projects/current/sessions/<sessionId>) (replace sessionId) to view and then
terminate a session in an administrative context for a particular project.

:::

````mdx-code-block
<Tabs groupId="sdk-identity-deactivate-session">
<TabItem value="sdk-identity-deactivate-session-go" label="Go" default>

```mdx-code-block
import goDisableSession from '!!raw-loader!../../../code-examples/sdk/go/session/disable-session.go'

<CodeBlock language="go" title="Disabling a session">{goDisableSession}</CodeBlock>
```

</TabItem>
<TabItem value="sdk-identity-deactivate-session-native" label="TypeScript">

```mdx-code-block
import nativeDisableSession from "!!raw-loader!@site/code-examples/sdk/typescript/src/session/disable-session-native.ts"

<CodeBlock language="ts" title="Disabling a session (Typescript SDK)">{nativeDisableSession}</CodeBlock>
```

</TabItem>
</Tabs>
````

### For a specific Identity

The following operations are built for an administrator to manage sessions specific to a given Identity.

#### Listing Sessions

To get all sessions of a specific identity, administrators may use the
[List identity sessions API](../../reference/api#tag/identity/operation/listIdentitySessions) from the SDK. This API has a
paginated response and optional parameters for page number and number of items per page.

````mdx-code-block
<Tabs groupId="sdk-identity-list-identity-sessions">
<TabItem value="sdk-identity-list-identity-sessions-go" label="Go" default>

```mdx-code-block
import goGetIdentitySessions from '!!raw-loader!../../../code-examples/sdk/go/session/get-identity-sessions.go'

<CodeBlock language="go">{goGetIdentitySessions}</CodeBlock>
```

</TabItem>
<TabItem value="sdk-identity-list-identity-sessions-native" label="TypeScript">

```mdx-code-block
import nativeGetIdentitySessions from "!!raw-loader!@site/code-examples/sdk/typescript/src/session/get-identity-sessions-native.ts"

<CodeBlock language="ts" title="get-identity-sessions-native.ts">{nativeGetIdentitySessions}</CodeBlock>
```

</TabItem>
</Tabs>
````

#### Revoke and delete sessions

To revoke and delete all sessions of a specific identity, administrators may use the
[Disable and delete identity sessions API](../../reference/api#tag/identity/operation/deleteIdentitySessions) from the SDK.

:::note

This operation forcefully logs the user out of all their sessions and deletes all session data.

:::

````mdx-code-block
<Tabs groupId="sdk-identity-disable-delete-sessions">
<TabItem value="sdk-identity-disable-delete-sessions-go" label="Go" default>

```mdx-code-block
import goDisableAndDeleteSessions from '!!raw-loader!../../../code-examples/sdk/go/session/delete-sessions.go'

<CodeBlock language="go">{goDisableAndDeleteSessions}</CodeBlock>
```

</TabItem>
<TabItem value="sdk-identity-disable-delete-sessions-native" label="TypeScript">

```mdx-code-block
import nativeDisableAndDeleteSessions from "!!raw-loader!@site/code-examples/sdk/typescript/src/session/delete-sessions-native.ts"

<CodeBlock language="ts" title="get-active-sessions-native.ts">{nativeDisableAndDeleteSessions}</CodeBlock>
```

</TabItem>
</Tabs>
````
