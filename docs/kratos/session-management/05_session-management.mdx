---
id: session-management
title: Session management
sidebar_label: Session management
---

```mdx-code-block
import Tabs from "@theme/Tabs"
import TabItem from "@theme/TabItem"
import { getSdkUrl } from '@site/src/hooks'
import CodeBlock from '@theme/CodeBlock'
```

Sessions can be managed by:

1. The user who owns the session through **self-service endpoints**
2. System administrators using **administrative endpoints**

## Self-service session management

Using self-service session management, users can manage their own sessions.

:::note

When performing these operations, remember to include the Ory Session Cookie in the requests. When calling the endpoints from a
proxy or middleware, make sure to forward the cookies sent to the proxy/middleware. When calling these endpoints as AJAX calls,
make sure to include credentials and configure CORS properly.

:::

### Listing sessions

A user can be shown a list of all their active sessions that haven't expired, except the current session using the
[Session Listing API](../../reference/api#tag/frontend/operation/listMySessions) from the SDK. This API has a paginated response
and optional parameters for page number and number of items per page.

````mdx-code-block
<Tabs groupId="self-service-list-sessions">
<TabItem value="listing-sessions-go" label="Go" default>

```mdx-code-block
import goApi from '!!raw-loader!../../../code-examples/sdk/go/selfservice/get-active-sessions.go'

<CodeBlock language="go">{goApi}</CodeBlock>
```

</TabItem>
<TabItem value="listing-sessions-native" label="Native">

```mdx-code-block
import getSessionsNative from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/get-active-sessions-native.ts"

<CodeBlock language="ts" title="get-active-sessions-native.ts">{getSessionsNative}</CodeBlock>
```

</TabItem>
<TabItem value="listing-sessions-react" label="React">

```mdx-code-block
import react from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/get-active-sessions-react.tsx"

<CodeBlock language="ts" title="get-active-sessions-react.tsx">{react}</CodeBlock>
```

</TabItem>
</Tabs>
````

:::tip

You can use this call to show a UI with all active sessions to the user.

:::

### Revoking a specific session

A user can choose to terminate a session that they no longer need or deem as malicious. The
[revoke session API](../../reference/api#tag/frontend/operation/disableMySession) is built for this scenario.

Session(s) revoked by users are not deleted from the system. Instead, they become inactive. Only administrators can delete
sessions using the administrative endpoints described [here](#administrative-session-management).

:::note

This API can only revoke session(s) other than the current session. To revoke the current session, use the
[self-service logout](../../kratos/self-service/flows/user-logout.mdx).

:::

````mdx-code-block
<Tabs groupId="self-service-revoke-session">
<TabItem value="revoke-session-go" label="Go" default>

```mdx-code-block
import goRevokeSession from '!!raw-loader!../../../code-examples/sdk/go/selfservice/revoke-session.go'

<CodeBlock language="go">{goRevokeSession}</CodeBlock>
```

</TabItem>
<TabItem value="revoke-session-native" label="Native">

```mdx-code-block
import revokeSessionNative from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/revoke-session-native.ts"

<CodeBlock language="ts" title="revoke-session-native.ts">{revokeSessionNative}</CodeBlock>
```

</TabItem>
<TabItem value="revoke-session-react" label="React">

```mdx-code-block
import revokeSessionReact from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/revoke-session-react.tsx"

<CodeBlock language="ts" title="revoke-session-react.tsx">{revokeSessionReact}</CodeBlock>
```

</TabItem>
</Tabs>
````

### Revoking all other sessions

A user may want to revoke all the other active sessions. The
[revoke sessions API](../../reference/api#tag/frontend/operation/disableMyOtherSessions) was built to enable this scenario.

Session(s) revoked by users are not deleted from the system. Instead, they become inactive. Only administrators can delete
sessions using the administrative endpoints described [here](#administrative-session-management).

````mdx-code-block
<Tabs groupId="self-service-revoke-other-sessions">
<TabItem value="revoke-other-sessions-go" label="Go" default>

```mdx-code-block
import goRevokeOtherSessions from '!!raw-loader!../../../code-examples/sdk/go/selfservice/revoke-other-sessions.go'

<CodeBlock language="go">{goRevokeOtherSessions}</CodeBlock>
```

</TabItem>
<TabItem value="revoke-other-sessions-native" label="Native">

```mdx-code-block
import revokeOtherSessionsNative from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/revoke-other-sessions-native.ts"

<CodeBlock language="ts" title="revoke-other-sessions-native.ts">{revokeOtherSessionsNative}</CodeBlock>
```

</TabItem>
<TabItem value="revoke--other-sessions-react" label="React">

```mdx-code-block
import revokeOtherSessionsReact from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/revoke-other-sessions-react.tsx"

<CodeBlock language="ts" title="revoke-other-sessions-react.tsx">{revokeOtherSessionsReact}</CodeBlock>
```

</TabItem>
</Tabs>
````

:::note

This endpoint revokes all sessions other than the current session. To revoke the current session, use the
[self-service logout](../../kratos/self-service/flows/user-logout.mdx).

:::

## Administrative session management

System administrators have access to all sessions in the system.

:::note

To perform the following operations, a Personal access token (called P.A.T otherwise) is required.

:::

```mdx-code-block
import goInitClient from '!!raw-loader!../../../code-examples/sdk/go/session/init.go'

<CodeBlock language="go" title="Initalising the Go SDK client">{goInitClient}</CodeBlock>
```

### General

#### Listing Sessions

To get all sessions, administrators may use the [List sessions API](../../reference/api#tag/identity/operation/listSessions) from
the SDK. This API has a paginated response and optional parameters for page and number of items per page.

````mdx-code-block
<Tabs groupId="list-identity-sessions">
<TabItem value="listing-identity-sessions-go" label="Go" default>

```mdx-code-block
import goGetSessions from '!!raw-loader!../../../code-examples/sdk/go/session/get-sessions.go'

<CodeBlock language="go">{goGetSessions}</CodeBlock>
```

</TabItem>
<TabItem value="listing-identity-sessions-native" label="Native">

```mdx-code-block
import getSessionsNative2 from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/get-active-sessions-native.ts"

<CodeBlock language="ts" title="get-active-sessions-native.ts">{getSessionsNative1}</CodeBlock>
```

</TabItem>
<TabItem value="listing-identity-sessions-react" label="React">

```mdx-code-block
import react2 from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/get-active-sessions-react.tsx"

<CodeBlock language="ts" title="get-active-sessions-react.tsx">{react1}</CodeBlock>
```

</TabItem>
</Tabs>
````

#### Get Session

To get the details for a given session with all expand options.

````mdx-code-block
<Tabs groupId="list-identity-sessions">
<TabItem value="listing-identity-sessions-go" label="Go" default>

```mdx-code-block
import goGetSession from '!!raw-loader!../../../code-examples/sdk/go/session/get-session.go'

<CodeBlock language="go">{goGetSession}</CodeBlock>
```

</TabItem>
<TabItem value="listing-identity-sessions-native" label="Native">

```mdx-code-block
import getSessionsNative3 from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/get-active-sessions-native.ts"

<CodeBlock language="ts" title="get-active-sessions-native.ts">{getSessionsNative1}</CodeBlock>
```

</TabItem>
<TabItem value="listing-identity-sessions-react" label="React">

```mdx-code-block
import react3 from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/get-active-sessions-react.tsx"

<CodeBlock language="ts" title="get-active-sessions-react.tsx">{react1}</CodeBlock>
```

</TabItem>
</Tabs>
````

#### Deactivate a Session

To terminate a specific session.

````mdx-code-block
<Tabs groupId="list-identity-sessions">
<TabItem value="listing-identity-sessions-go" label="Go" default>

```mdx-code-block
import goDisableSession from '!!raw-loader!../../../code-examples/sdk/go/session/disable-session.go'

<CodeBlock language="go">{goDisableSession}</CodeBlock>
```

</TabItem>
<TabItem value="listing-identity-sessions-native" label="Native">

```mdx-code-block
import getSessionsNative4 from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/get-active-sessions-native.ts"

<CodeBlock language="ts" title="get-active-sessions-native.ts">{getSessionsNative1}</CodeBlock>
```

</TabItem>
<TabItem value="listing-identity-sessions-react" label="React">

```mdx-code-block
import react4 from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/get-active-sessions-react.tsx"

<CodeBlock language="ts" title="get-active-sessions-react.tsx">{react1}</CodeBlock>
```

</TabItem>
</Tabs>
````

### For a specific Identity

The following operations are built for an administrator to manage sessions specific to a given Identity.

#### Listing Sessions

To get all sessions of a specific identity, administrators may use the
[List identity sessions API](../../reference/api#tag/identity/operation/listIdentitySessions) from the SDK. This API has a
paginated response and optional parameters for page number and number of items per page.

````mdx-code-block
<Tabs groupId="list-identity-sessions">
<TabItem value="listing-identity-sessions-go" label="Go" default>

```mdx-code-block
import goGetIdentitySessions from '!!raw-loader!../../../code-examples/sdk/go/session/get-identity-sessions.go'

<CodeBlock language="go">{goGetIdentitySessions}</CodeBlock>
```

</TabItem>
<TabItem value="listing-identity-sessions-native" label="Native">

```mdx-code-block
import getSessionsNative9 from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/get-active-sessions-native.ts"

<CodeBlock language="ts" title="get-active-sessions-native.ts">{getSessionsNative1}</CodeBlock>
```

</TabItem>
<TabItem value="listing-identity-sessions-react" label="React">

```mdx-code-block
import react6 from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/get-active-sessions-react.tsx"

<CodeBlock language="ts" title="get-active-sessions-react.tsx">{react1}</CodeBlock>
```

</TabItem>
</Tabs>
````

#### Revoke and delete sessions

To revoke all sessions of a specific identity, administrators must send a `DELETE` request to the administrative
[`/admin/identities/{id}/sessions`](../../reference/api.mdx#operation/adminDeleteIdentitySessions) endpoint.

:::note

This operation forcefully logs the user out of all their sessions and deletes all session data.

:::

````mdx-code-block
<Tabs groupId="list-identity-sessions">
<TabItem value="listing-identity-sessions-go" label="Go" default>

```mdx-code-block
import goDisableAndDeleteSessions from '!!raw-loader!../../../code-examples/sdk/go/session/delete-sessions.go'

<CodeBlock language="go">{goDisableAndDeleteSessions}</CodeBlock>
```

</TabItem>
<TabItem value="listing-identity-sessions-native" label="Native">

```mdx-code-block
import getSessionsNative1 from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/get-active-sessions-native.ts"

<CodeBlock language="ts" title="get-active-sessions-native.ts">{getSessionsNative1}</CodeBlock>
```

</TabItem>
<TabItem value="listing-identity-sessions-react" label="React">

```mdx-code-block
import react1 from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/get-active-sessions-react.tsx"

<CodeBlock language="ts" title="get-active-sessions-react.tsx">{react1}</CodeBlock>
```

</TabItem>
</Tabs>
````
