---
id: session-management
title: Session management
sidebar_label: Session management
---

```mdx-code-block
import Tabs from "@theme/Tabs"
import TabItem from "@theme/TabItem"
import { getSdkUrl } from '@site/src/hooks'
import CodeBlock from '@theme/CodeBlock'
```

Sessions can be managed by:

1. The user who owns the session through **self-service endpoints**
2. System administrators using **administrative endpoints**

## Self-service session management

Using self-service session management, users can manage their own sessions.

:::note

When performing these operations, remember to include the Ory Session Cookie in the requests. When calling the endpoints from a
proxy or middleware, make sure to forward the cookies sent to the proxy/middleware. When calling these endpoints as AJAX calls,
make sure to include credentials and configure CORS properly.

:::

### Listing sessions

A user can be shown a list of all their active sessions that haven't expired, except the current session using the [Session Listing API](../../reference/api#tag/frontend/operation/listMySessions) from the
SDK. This API has a paginated response and optional parameters for page number and number of items per page.

````mdx-code-block
<Tabs groupId="self-service-list-sessions">
<TabItem value="listing-sessions-go" label="Go" default>

```mdx-code-block
import goApi from '!!raw-loader!../../../code-examples/sdk/go/selfservice/get-active-sessions.go'

<CodeBlock language="go">{goApi}</CodeBlock>
```

</TabItem>
<TabItem value="listing-sessions-native" label="Native">

```mdx-code-block
import getSessionsNative from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/get-active-sessions-native.ts"

<CodeBlock language="ts" title="get-active-sessions-native.ts">{getSessionsNative}</CodeBlock>
```

</TabItem>
<TabItem value="listing-sessions-react" label="React">

```mdx-code-block
import react from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/get-active-sessions-react.tsx"

<CodeBlock language="ts" title="get-active-sessions-react.tsx">{react}</CodeBlock>
```

</TabItem>
</Tabs>
````

:::tip

You can use this call to show a UI with all active sessions to the user.

:::

### Revoking a specific session

A user can choose to terminate a session that they no longer need or deem as malicious. The [revoke session API](../../reference/api#tag/frontend/operation/disableMySession) is built for this
scenario.

Session(s) revoked by users are not deleted from the system. Instead, they become inactive. Only administrators can delete
sessions using the administrative endpoints described [here](#administrative-session-management).

:::note

This API can only revoke session(s) other than the current session. To revoke the current session, use the
[self-service logout](../../kratos/self-service/flows/user-logout.mdx).

:::

````mdx-code-block
<Tabs groupId="self-service-revoke-session">
<TabItem value="revoke-session-go" label="Go" default>

```mdx-code-block
import goRevokeSession from '!!raw-loader!../../../code-examples/sdk/go/selfservice/revoke-session.go'

<CodeBlock language="go">{goRevokeSession}</CodeBlock>
```

</TabItem>
<TabItem value="revoke-session-native" label="Native">

```mdx-code-block
import revokeSessionNative from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/revoke-session-native.ts"

<CodeBlock language="ts" title="revoke-session-native.ts">{revokeSessionNative}</CodeBlock>
```

</TabItem>
<TabItem value="revoke-session-react" label="React">

```mdx-code-block
import revokeSessionReact from "!!raw-loader!@site/code-examples/sdk/typescript/src/selfservice/session/revoke-session-react.tsx"

<CodeBlock language="ts" title="revoke-session-react.tsx">{revokeSessionReact}</CodeBlock>
```

</TabItem>
</Tabs>
````

### Revoking all other sessions

To revoke all sessions except the current, the user must send a `DELETE` request to the
[`/sessions`](../../reference/api.mdx#operation/revokeSessions) endpoint or use the `revokeSessions` SDK command:

```mdx-code-block
<CodeBlock>{`DELETE ${getSdkUrl().url}/sessions
Cookies: ory_kratos_session=...
# OR
X-Session-Token: ...`}</CodeBlock>
```

:::note

This endpoint revokes all sessions other than the current session. To revoke the current session, use the
[self-service logout](../../kratos/self-service/flows/user-logout.mdx).

:::

## Administrative session management

System administrators have access to all sessions in the system.

### Listing Sessions

To get all sessions of a specific identity, administrators must send a `GET` request to the administrative
[`/admin/identities/{id}/sessions`](../../reference/api.mdx#operation/adminListIdentitySessions) endpoint.

```mdx-code-block
<CodeBlock>{`GET ${getSdkUrl().url}/admin/identities/{id}/sessions
Authorization: Bearer {your-personal-access-token}`}</CodeBlock>
```

### Revoke sessions as an administrator

To revoke all sessions of a specific identity, administrators must send a `DELETE` request to the administrative
[`/admin/identities/{id}/sessions`](../../reference/api.mdx#operation/adminDeleteIdentitySessions) endpoint.

```mdx-code-block
<CodeBlock>{`DELETE ${getSdkUrl().url}/admin/identities/{id}/sessions
Authorization: Bearer {your-personal-access-token}`}</CodeBlock>
```

:::note

This operation forcefully logs the user out of all their sessions and deletes all session data.

:::
